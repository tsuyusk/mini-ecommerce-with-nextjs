{"version":3,"file":"static/webpack/static/development/pages/[skuId].js.78357bc40adcba9e0584.hot-update.js","sources":["webpack:///./pages/[skuId].tsx"],"sourcesContent":["import React from \"react\";\nimport Stripe from \"stripe\";\nimport { GetStaticPaths, GetStaticProps } from \"next\";\nimport Link from \"next/link\";\n\nimport CheckoutButton from \"../components/checkoutButton\";\nimport stripeConfig from \"../config/stripe\";\n\ninterface Props {\n  sku: Stripe.Sku;\n}\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const stripe = new Stripe(stripeConfig.secretKey, {\n    apiVersion: '2020-03-02'\n  });\n\n  const skus = await stripe.skus.list();\n\n  const paths = skus.data.map(sku => ({\n    params: {\n      skuId: sku.id,\n    }\n  }))\n\n  return {\n    paths,\n    fallback: false\n  }\n}\n\nexport const getStaticProps: GetStaticProps = async ({params}) => {\n  const stripe = new Stripe(stripeConfig.secretKey, {\n  apiVersion: '2020-03-02'\n  });\n\n  const { skuId } = params;\n\n  const sku = await stripe.skus.retrieve(skuId as string);\n\n  return {\n    props: {\n      sku,\n    }\n  }\n}\n\nconst Product: React.FC<Props> = ({ sku }) => {\n  return (\n    <div>\n      <h1>{sku.attributes.name}</h1>\n\n      {sku.image && <img src={sku.image} style={{width: 100}}/>}\n\n      <h2>{(sku.price / 100).toLocaleString(\"pt-BR\", {\n        style: \"currency\",\n        currency: sku.currency.toUpperCase()\n      })}</h2>\n      <CheckoutButton skuId={sku.id} itemName={sku.attributes.name} />\n\n      <br />\n\n      \n      <Link href=\"/\">Go back</Link>\n    </div>\n  )\n}\n\nexport default Product;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AAyCA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;;AACA;;;;A","sourceRoot":""}